global_parameters:
  input_dir: ${prev}
  output_dir: ${this}
  targets: data/targets.yaml
  seed: 0
  cuda_id: 0
nodes:
- name: image_downloader
  parameters:
    num_images: 10
- name: image_preprocessor
  parameters:
    width: 1024
    height: 1024
- name: image_feature_extractor
  parameters:
    model_name: vit
- name: vector_combiner
  parameters:
    method: mean
    dim: 0
- name: similarity_measurer
  parameters:
    measure: cosine
    dim: 0
- name: result_combiner
  parameters:
    file_name: similarities.csv
- name: correlation_calculator
  parameters:
    input_file_0: ${node:6}/similarities.csv
    input_file_1: data/gold.csv
    columns_0:
    - 1
    - 2
    columns_1:
    - 1
    - 3
    output_header:
    - corr_const_1
    - corr_const_2
    measure: spearman
